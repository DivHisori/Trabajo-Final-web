<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style-contacto.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Andres Garza</title>
</head>
<body>
    <div class="container-color-botones">
        <a class="boton-personalizacion-color" aria-expanded="false" aria-controls="menu-colores" title="Abrir selector de colores"><i class="fa-solid fa-pen" ></i></a>
        <div class="menu-desplegable-colores" id="menu-colores" role="menu" aria-hidden="true" tabindex="-1">
            <button class="circulo-color"  data-color="#e93535" role="listitem"></button>
            <button class="circulo-color" data-color="#00cc00" role="listitem"></button>
            <button class="circulo-color" data-color="#ff5e00" role="listitem"></button>
            <button class="circulo-color" data-color="#23a7ff" role="listitem"></button>
            <button class="circulo-color" data-color="#9333d3" role="listitem"></button>
        </div>
    </div>
    <button id="color-toggle-btn" aria-label="Cambiar colores de fondo y texto" aria-pressed="false" type="button">
        <i id="icon-sun" class="fa-solid fa-sun" style="display: inline-block;"></i>
        <i id="icon-moon" class="fa-solid fa-moon" style="display: none;"></i>
    </button>
    <div th:replace="/fragments/usos :: cabeza"></div>
    <main>
        <section class="contacto" id="contacto">
            <div class="container-informacion">
                <div class="informacion">
                    <h3 class="texto-ascendente-principal"> Trabajemos <span>juntos</span></h3>
                    <p class="trabajemo-juntos-parrafo texto-ascendente-principal">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Obcaecati fuga error quidem quis nemo deleniti dolores dolor reprehenderit autem beatae voluptatibus deserunt rem, repellendus sunt atque ullam adipisci ab expedita!</p>
                    <div class="bloques-info">
                        
                        <div class="contactos-list style1-contacto
                        texto-ascendente-principal"></div>
                    </div>
                </div>
            </div>
            <div class="container-formulario">
              <div class="fondo-formulario">
                <h3 class="texto-ascendente-sobremi">Enviame un <span>correo</span></h3>
                  <form method="post" id="form" th:action="@{/registrar}" th:object="${usuarioMongo}" onsubmit="limpiarFormulario(event)">
                  <div class="input-grupo">
                    <div class="input-caja">
                      <input type="text" placeholder="Nombre Completo" class="texto-ascendente-sobremi" th:field="*{nombre}" required="required">
                      <input type="email" placeholder="Correo Electronico" name="correo-electronico" class="texto-ascendente-sobremi" th:field="*{correoElectronico}" required="required">
                    </div>
                    <div class="input-caja">
                      <input type="number" placeholder="Numero de celular" name="celular" class="texto-ascendente-sobremi"  th:field="*{celular}" required="required">
                      <input type="text" placeholder="Asunto" name="asunto" class="texto-ascendente-sobremi"  th:field="*{asunto}" required="required">
                    </div>
                  </div>
                  <div class="input-grupo-2">
                    <textarea name="" id="" cols="30" rows="10" placeholder="Escribe tu mensaje aqui" class="texto-ascendente-sobremi"  th:field="*{mensaje}" required="required"></textarea>
                    <div class="texto-ascendente-sobremi">
                      <input id="button-form" type="submit" value="Send Message" class="btn-general btn-color btn-enviar ">
                    </div>
                  </div>
                </form>
              </div>
            </div>
        </section>
        <script>
            function limpiarFormulario(event) {
                event.preventDefault(); // Prevenir el envío normal del formulario

                const form = event.target;

                // Enviar los datos usando fetch
                fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form)
                })
                    .then(response => {
                        if (response.ok) {
                            // Limpiar todos los campos
                            form.reset();
                            // Opcional: Mostrar mensaje de éxito
                            alert('Mensaje enviado correctamente');
                        } else {
                            alert('Error al enviar el mensaje');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Error al enviar el mensaje');
                    });
            }
        </script>

    </main>
    <div th:replace="/fragments/usos :: foot"></div>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">emailjs.init('N-Qj4Yxgsu8nK4poX')</script>
    <script src="/js/script.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDpLiSpzD3YXJeZf7flL7cQnBCKyygQSI&callback=initMap"></script>
</body>
</html>